<!DOCTYPE html>
<html lang="en">
<!-- <audio id="alertSound" src="/src/beep-01a.mp3" preload="auto"></audio> -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal Sholat</title>
    <!-- Include Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles -->
    <style>
        /* Adjustments for smaller devices */
        /* @media (max-width: 576px) { */

            /* Center align headings */
            /* h1,
            h2 {
                text-align: center;
            }
        } */
    </style>
</head>

<body class="bg-dark text-light">
    <div class="container">
        <div class="row justify-content-center mt-5">
            <div class="col-12 col-md-8">
                <h1>Jadwal Sholat</h1>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col">
                <p class="lead">Tanggal: <%= tanggal %>
                </p>
                <p class="lead">Subuh: <%= waktuSubuh %>
                </p>
                <p class="lead">Terbit: <%= waktuTerbit %>
                </p>
                <p class="lead">Dzuhur: <%= waktuDzuhur %>
                </p>
                <p class="lead">Ashar: <%= waktuAshar %>
                </p>
                <p class="lead">Maghrib: <%= waktuMaghrib %>
                </p>
                <p class="lead">Isya: <%= waktuIsya %>
                </p>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col">
                <h2 class="mb-3">Current time: <span id="currentTime" class="text-primary"></span></h2>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        function updateTime() {
            const currentTimeElement = document.getElementById('currentTime');
            const options = { hour: '2-digit', minute: '2-digit', hour12: false };
            const currentTime = new Date().toLocaleTimeString('en-US', options);
            currentTimeElement.innerHTML = currentTime;

            // Get current time
            const now = new Date();
            const currentHours = now.getHours();
            const currentMinutes = now.getMinutes();
            const currentSeconds = now.getSeconds();

            // Compare current time with prayer times
            if (currentTime === '<%= waktuSubuh %>') {
                playAlertSound();
                alert('Waktunya Sholat Subuh!');
            } else if (currentTime === '<%= waktuTerbit %>') {
                playAlertSound();
                alert('Matahari telah terbit!');
            } else if (currentTime === '<%= waktuDzuhur %>') {
                playAlertSound();
                alert('Waktunya Sholat Dzuhur!');
            } else if (currentTime === '<%= waktuAshar %>') {
                playAlertSound();
                alert('Waktunya Sholat Ashar!');
            } else if (currentTime === '<%= waktuMaghrib %>') {
                playAlertSound();
                alert('Waktunya Sholat Maghrib!');
            } else if (currentTime === '<%= waktuIsya %>') {
                playAlertSound();
                alert('Waktunya Sholat Isya!');
            }
        }

        function playAlertSound() {
            const alertSound = document.getElementById('alertSound');
            alertSound.play();
        }


        // Updating the current time initially
        updateTime();

        // Update time every second
        setInterval(updateTime, 1000);
    </script>
</body>

</html>